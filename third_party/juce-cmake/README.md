juce-cmake
==========

This project is an attempt at providing [CMake][cmake] support for the [JUCE][juce] library, inspired by the standard CMake module [FindBoost][find_boost].

Thanks to the simple [JUCE Module Format][juce_module_format] specifications, intermodule and external dependencies are resolved by inspecting each module header file for properties and configuration flags. This is similar to the way the Projucer handles modules.

Design goals
------------

* Avoid having to rely on the Projucer and allow pure CMake builds.
* Try to favour standard CMake constructs over helper functions as much as possible.
* Rely on [find_package][find_package] to locate and configure [JUCE][juce].
* Rely on [INTERFACE][interface] targets for each module to propagate transitive dependencies.
* Rely on [target_sources][target_sources] to postpone building the JUCE sources with the dependent target.
* Avoid polluting the source directory with JuceLibraryCode, instead favour autogenerated files in the build directory.
* support multiple calls to [find_package][find_package](JUCE) to allow multiple sub projects to be built with different modules

Example
-------

```cmake
cmake_minimum_required(VERSION 3.0)

project(HelloWorld)

find_package(JUCE REQUIRED 
	COMPONENTS 
		juce_core
		juce_data_structures
		juce_events
		juce_graphics
		juce_gui_basics
		juce_gui_extra
)

set(SOURCES
	Main.cpp
	MainComponent.h
	MainComponent.cpp
)

add_executable(${PROJECT_NAME} ${SOURCES})
set_target_properties(${PROJECT_NAME} PROPERTIES MACOSX_BUNDLE true)
target_link_libraries(${PROJECT_NAME} ${JUCE_LIBRARIES})
source_group(Source FILES ${SOURCES})
```

List of similar projects
------------------------

* [JUCE.cmake][juce_dot_cmake] is a similar and much more advanced project. However it relies on the Projucer.
* https://github.com/teragonaudio/CMakeJuce
* https://github.com/nclack/cmake-juce
* https://github.com/shaduzlabs/audio-plugin-project-template


[cmake]: https://cmake.org
[juce]: http://www.juce.com
[juce_dot_cmake]: https://github.com/McMartin/JUCE.cmake 
[find_boost]: https://cmake.org/cmake/help/latest/module/FindBoost.html
[juce_module_format]: https://github.com/WeAreROLI/JUCE/blob/master/modules/JUCE%20Module%20Format.txt
[find_package]: https://cmake.org/cmake/help/latest/command/find_package.html
[interface]: https://cmake.org/cmake/help/latest/command/add_library.html?highlight=interface#interface-libraries
[target_sources]: https://cmake.org/cmake/help/latest/command/target_sources.html
